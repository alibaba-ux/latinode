ToDo:

	课程详情
	教师信息
	舞种介绍
	演出汇报
	拉丁术语

	样式调整/UI 美化
	酷炫特效：impressJS、气泡链接
	--手工报名
	--报名时间区间限制
	--会员类型：普通、管理员
	--想说的话
	--日志、密码、cookie/ email notification
	

	报名页取消报名等操作根据情况修改页面报名统计信息	H 不能直接在页面进行修改，可能存在并发情况
	统计信息变化后主动通知前台						H
	*管理员修改用户所有信息操作						H
	*后台管理员手工无限制报名						H
	*paid改成金额而非boolean						H
	*Lock则报名结束								H
	年卡会员自动报名								H
	筛选条件面包屑


	
	报名状态锁定
	提示用户当前搜索条件
	公司邮箱限制、验证
	IE低版本提示，拒绝服务									
	课程信息可以动态更新，更改配置应用免重启生效
	课程转让
	拒绝报名的会员本期不得再报
	系统异常处理

查询结果输出信息格式化							O
查询结果表头排序								O	
查询结果分页									O
29955 报名不成功								O
include 或者layout继承、共用部分				O
表单前后台验证									O  		后台验证未做
默认查询当前开课课程相关会员						O
从文件里面读系统公告，读当前开课课程信息			O
报名统计信息、限额等							O
报名审核 										O
退课审核										O
重置表单按钮									O
学费缴费设定									O
审核退课的时候最好检查下是否已经退费				O
申请报名后自助放弃报名							O
课程状态转换有时间记录 用于确定用户报名先后顺序		O
申请退课后自助放弃退课							X   	(尽量降低复杂度，减少用户随意操作的可能性)
退课审核拒绝									O
报名信息提交后刷新统计信息 						O
首页统计信息采用异步回调方式改善页面加载速度		O
性别确定后不能修改								O
List页面第一次请求通过Ajax获取数据，保持逻辑一致	O
list加载loading提示							O
后台管理员操作提示文案完善						O
*报名自动审批，根据等级、vip、序号、性别自动审批	O
*课程查询输出结果过滤							O
报名时间 										O
排序标志										O

技术实现：

	缓存redis
	数据库mongodb							O
	数据库驱动mongoskin+mongo native			O
	静态资源服务器nginx
	模板引擎jade/markdown						O
	css:less
	前端fdev4、impress、arbor.js、curtain.js
	后台nodejs								O
	web Framework：express
	部署环境ubuntu、mac						O
	保持node始终处于运行状态：forever
	step: control-flow library、 Async.js 	O
	邮件模块：node_mailer 
	后台表单验证：i-form


需求规则描述：

报名页要实时显示当前开课班级（如果当前无可开课班级则直接将报名显示为更新用户个人信息或者注册之类）、已报名人数(报名通过，等待审核)，剩余可报名名额。

对于未注册、从来没有报过名的同学可以在报名页面输入个人信息，选择相应课程进行报名：报名信息包括工号、选择报名班级、姓名、性别、邮箱、旺旺、分机、支付宝、部门；其中工号在数据库中是唯一的可以作为用户的标识。

如果之前已经报过名、系统里面有培训记录，但是本期没有报名的话，当其输入个人工号，在blur的时候，系统会根据工号去后台查询相应的个人信息填充在报名表单里面，这样用户不用重复输入，但是可以报名相应课程或者更改个人信息，保存到数据库。

报名只是发出一个报名申请，新报名的课程处于等待管理员审核状态。
如果用户已经报名过当前开课课程，数据库中有记录，当其输入个人工号blur的时候：
	系统会显示他已经报名的课程，该课程被check上，并且disable掉，如果报名的课程正在审核中则提示等待审核；
	如果审核不通过则提示报名失败，课程被disable掉，但是没有被check上，报名失败后相应失败的课程不可重新发出报名申请；
	如果审核通过报名成功则会在后面加一个申请退课按钮，用户可以提交退课申请，等待管理员审批，审批通过后：
		如果用户未交费则直接修改课程状态为退课；
		如果用户已缴费则先线下退费再修改退课状态。

通常会有两个班开课，如果其中一个课程已经报名则已报名课程走上面逻辑，如果还有一个课程未报名，并且还有名额则可以申请报名。

可以查看所有已报名会员个人信息，包括历来所有参加的培训课程，也可以修改个人信息，目前不加权限控制，所以也可以修改其他人信息，只要知道工号。

在报名情况查询页用户可以以列表形式看到当前课程的报名信息：所有的报名会员相关信息，课程状态、付费状态等等。
该列表可以分页、排序。
可以进行筛选查询：可以根据工号、性别、历次培训课程、付费状态、课程状态、部门等条件进行任意组合筛选。查询结果通过ajax请求返回，无刷新显示。

管理员可以将课程报名审核通过（只有会员课程处于waiting状态时方才有效）、
将退课申请审核通过（只有会员课程处于quitApplied状态时方才有效）、
修改会员缴费状态（只有会员课程处于quitApplied状态时方能设置为未交费，只有当课程处于approved状态时才能设为已缴费）、
修改会员其他信息包括vip属性、level等。

如果是vip会员、或者level高于某个值的会员，其报名的课程不用审核直接通过。
可以有黑名单，该名单里的会员不能申请任何一次课程报名。





